<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>TDD From Entry to Abandon</title>

    <link rel="stylesheet" href="../../libs/reveal/css/reveal.css">
    <link rel="stylesheet" href="../../libs/reveal/css/theme/league.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="../../libs/reveal/lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? '../../libs/reveal/css/print/pdf.css' : '../../libs/reveal/css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <section data-markdown>
            ### 敏捷开发 之 
            ## 测试驱动开发
            ### 从入门到放弃

            何鑫
            [@AlphaHinex](https://github.com/AlphaHinex)
          </section>
        </section>
        <section>
          <section>
            <h3>面向对象</h3>
            <ul>
              <li class="fragment">写完代码不爱写文档的开发</li>
              <li class="fragment">认为有 bug 是面子问题的技术<span class="fragment">（新产出代码、</span><span class="fragment">重构代码、</span><span class="fragment">改别人代码）</span></li>
              <li class="fragment">希望架构永葆青春的架构师</li>
              <li class="fragment">在进度及质量中权衡的技术 / 项目负责人</li>
              <li class="fragment">以及所有 想入门 / 已经入门快要放弃 / 已经放弃的人</li>
            </ul>
          </section>
          <section>
            <h3>我能得到什么</h3>
            <ul>
              <li class="fragment">我的代码不会用？请看测试用例</li>
              <li class="fragment">提完代码信心满满关机走人</li>
              <li class="fragment">延迟架构腐化，专注演进</li>
              <li class="fragment">进度质量二选一？小孩子才做选择题</li>
              <li class="fragment">定心丸 / 坚定信心 / 重拾信心<span class="fragment"> —— 好走的路都是下坡路</span></li>
            </ul>
          </section>
        </section>
        <section data-background-transition="zoom">
          <section data-background-image="./resources/agile.jpg">
            <div style="background-color: rgba(0, 0, 0, 0.9); color: #fff; padding: 20px;">
              <h3>主角登场</h3>
            </div>
          </section>
          <section>
            <img data-src="./resources/hamlet.jpg">
            <h3>There are a thousand Hamlets in a thousand people's eyes.</h3>
          </section>
        </section>
        <section>
          <section data-markdown>
            ## 敏捷之我见
          </section>
          <section>
            <h3>敏捷的要点</h3>
            <ul>
              <li class="fragment">团队以一个恒定的效率进行输出</li>
              <li class="fragment">考核团队的绩效，而非个人的绩效</li>
              <li class="fragment">任务可视化</li>
              <li class="fragment"><strong>基于 TDD 及 CI/CD</strong></li>
              <li class="fragment">明确的目标</li>
              <li class="fragment">上层的支持</li>
            </ul>
          </section>
          <section data-markdown>
            ### 形式

            * 两周一个 Sprint
            * Kanban
            * 结对编程
            * **TDD**
            * CI / CD
            * 早站会
            * 迭代总结会
            * 值月 Scrum Master
            * 奖惩制度
            * 学习制度
          </section>
        </section>
        <section>
          <section data-background-image="./resources/show.gif">
            <div style="background-color: rgba(0, 0, 0, 0.6); color: #fff; padding: 20px;">
              <h3>主角中的主角</h3>
              <h2>测试驱动开发</h3>
              <h3>Test-Driven Development, TDD</h3>
            </div>
          </section>
        </section>
        <section>
          <section data-background-image="./resources/question.jpeg">
            <div style="background-color: rgba(0, 0, 0, 0.5); color: #fff; padding: 20px;">
              <h3>浪费时间</h3>
            </div>
          </section>
          <section data-markdown>
            ### [质量速度二选一？](https://mp.weixin.qq.com/s/FNVOUV4dyL0-UHfNRbh94A)

            > 说这话的人都是菜鸡，质量也不行，速度也不行
          </section>
          <section data-markdown>
            ### 没有了 TDD 的敏捷
            ### 就好像没有了大蒜的五花肉
          </section>
          <section data-markdown>
            ### [没有基本功，什么花哨套路都白搭](https://mp.weixin.qq.com/s/MilSF40-pKO3F-666FW67g)

            > 任何一个跟敏捷实施相关的问题，都是因为没有 TDD
          </section>
          <section data-markdown>
            ### 广告时间

            ![public](./resources/public.jpg)
          </section>
        </section>
        <section>
          <section data-markdown>
            ![test](./resources/test.png)
          </section>
          <section>
            <p>A good unit test should be automated, repeatable, easy to understand, incremental, easy to run, and fast.</p>
            <img data-src="./resources/jsunit.jpg">
          </section>
          <section data-markdown>
            ### 工具链 —— 前端
            ![frontend](./resources/frontend.png)
          </section>
          <section data-markdown>
              ### 工具链 —— 后端
              ![backend](./resources/backend.png)
            </section>
        </section>
        <section>
          <section data-markdown>
            ### TDD Workflow

            ![workflow](./resources/workflow-a.png)
          </section>
          <section data-markdown>
            ### 个人习惯流程

            ![workflow](./resources/workflow-b.png)
          </section>
          <section data-markdown>
            ### 个人习惯流程

            1. 有单元测试
            1. 提升覆盖率 —— 提升覆盖率的过程能帮助优化设计
            1. 补充特殊场景、边界值等用例
          </section>
        </section>
        <section>
          <section data-markdown>
            ![show](./resources/show.jpeg)
          </section>
          <section data-markdown>
            * 翻车领会精神
            * 没翻车扣波 666
          </section>
          <section data-markdown>
            ### Show Case

            1. 除法 TDD quick show
            1. SEATA AT Demo
            1. 真实需求：通用导出功能
            1. 实操练习实例
            1. Web Service 测试用例
          </section>
        </section>
        <section>
          <section data-markdown>
            ### 除法 TDD quick show
            
            https://start.spring.io/
          </section>
          <section data-markdown>
            ### 除法 TDD quick show

            1. 整除
            1. 小数
            1. 除不尽
            1. 除数是 0
          </section>
          <section data-markdown>
            ### 除法 TDD quick show

            * http://spockframework.org
            * http://www.groovy-lang.org/
          </section>
          <section data-markdown>
            ### 除法 TDD quick show

            * https://www.eclemma.org/jacoco/
            * https://codecov.io/
          </section>
        </section>
        <section>
          <section data-markdown>
            ### SEATA AT Demo

            假设当前有这样一个基础微服务环境：

            * 基于 [Spring Cloud](https://spring.io/projects/spring-cloud) 构建，使用 [Nacos](https://nacos.io) 作为注册中心，利用 [OpenFeign](https://github.com/OpenFeign/feign) 进行服务间 RESTFul API 的调用。
          </section>
          <section data-markdown>
            ### SEATA AT Demo

            包含以下服务：

            1. 库存服务（storage）
            1. 用户账户服务（account）
            1. 订单服务（order）
            1. 业务服务（business）
          </section>
          <section data-markdown>
            ### SEATA AT Demo

            业务服务作为直接被调用的接口，组织关联其他三个服务。下订单时，服务的调用顺序如下：

            ```
            1. 减库存（storage）
            2. 创建订单
            2.1. 扣减用户账户（account）
            2.2. 生成订单（order）
            ```
          </section>
        </section>
        <section>
          <section data-markdown>
            ### 真实需求：通用导出功能
            
            1. 导出 excel 功能，怎么写单元测试？
            1. 新增 POST 接口，需要重构原有代码
            1. https://github.com/AlphaHinex/spring-roll/pull/22/files
          </section>
        </section>
        <section>
          <section data-markdown>
            ### 实操练习实例
            
            1. 怎么运行单元测试？
          </section>
        </section>
        <section style="text-align: left;">
            <h1>THE END</h1>
            <p>
                - <a href="https://github.com/AlphaHinex/slides/tree/master/topics/tdd-from-entry-to-abandon">slide</a><br>
            </p>
        </section>
      </div>
    </div>

    <aside style="display:block;position:fixed;width:110px;height:110px;z-index:30;right:10px;bottom:10px;">
        <img src="./resources/slide.png" alt="" width="110" height="110">
    </aside>

    <script src="../../libs/reveal/lib/js/head.min.js"></script>
    <script src="../../libs/reveal/js/reveal.js"></script>

    <script>
      // More info https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        history: true,

        multiplex: {
          // Example values. To generate your own, see the socket.io server instructions.
          secret: null, // null so the clients do not have control of the master presentation
          // secret: 'xxxx', // Obtained from the socket.io server. Gives this (the master) control of the presentation
          id: '159d43dac8a4f657', // id, obtained from socket.io server
          url: 'https://reveal-js-multiplex-ccjbegmaii.now.sh' // Location of socket.io server
        },

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
          { src: '../../libs/reveal/plugin/markdown/marked.js' },
          { src: '../../libs/reveal/plugin/markdown/markdown.js' },
          { src: '../../libs/reveal/plugin/notes/notes.js', async: true },
          { src: '../../libs/reveal/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: '//cdn.socket.io/socket.io-1.3.5.js', async: true },
          { src: '../../libs/reveal/plugin/multiplex/client.js', async: true }
          // { src: '../../libs/reveal/plugin/multiplex/master.js', async: true }
        ]
      });
    </script>
  </body>
</html>
